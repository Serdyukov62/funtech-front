{
  "version": 3,
  "sources": ["empty-module:~/utils/request.server", "../../../app/routes/signin/index.tsx"],
  "sourcesContent": ["module.exports = {};", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\signin\\\\\\\\index.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\signin\\\\index.tsx\");\n  import.meta.hot.lastModified = \"1712319876326.1135\";\n}\n// REMIX HMR END\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { redirect } from '@remix-run/node';\nimport { Form, json, useActionData, useNavigate } from '@remix-run/react';\nimport { inputSignInFormLabels, signInSchema } from 'contracts/sign/sign';\nimport { signIn } from 'contracts/types/user';\nimport { getValidatedFormData, useRemixForm } from 'remix-hook-form';\nimport { badRequest } from '~/utils/request.server';\nconst resolver = zodResolver(signInSchema);\nexport const action = async ({\n  request\n}) => {\n  const {\n    errors,\n    data,\n    receivedValues: defaultValues\n  } = await getValidatedFormData(request, resolver);\n  if (errors) {\n    // The keys \"errors\" and \"defaultValue\" are picked up automatically by useRemixForm\n    return json({\n      errors,\n      defaultValues,\n      formError: null\n    });\n  }\n  const user = await signIn(data);\n  if (user) {\n    const requestUrl = new URL(request.url);\n    const redirectTo = `/${requestUrl.searchParams.get('redirectTo') ?? ''}`;\n    return redirect(redirectTo);\n  }\n  return badRequest({\n    formError: 'Login type invalid',\n    defaultValues\n  });\n};\nexport default function SignIn() {\n  _s();\n  const actionData = useActionData();\n  const navigation = useNavigate();\n  const {\n    register,\n    formState: {\n      isSubmitting,\n      errors\n    }\n  } = useRemixForm({\n    resolver,\n    mode: 'onBlur'\n  });\n  const FormInput = ({\n    name,\n    type\n  }) => <label>\r\n      {inputSignInFormLabels[name]}\r\n      <input type={type} {...register(name)} />\r\n      {errors[name] && <p>{`${errors[name]?.message}`}</p>}\r\n    </label>;\n  return <Form method=\"POST\">\r\n      <FormInput name=\"email\" type=\"email\" />\r\n      <FormInput name=\"password\" type=\"password\" />\r\n      {actionData?.formError && <p>{actionData.formError}</p>}\r\n      <button type=\"submit\" disabled={isSubmitting}>\r\n        \u0412\u043E\u0439\u0442\u0438\r\n      </button>\r\n      <button type=\"button\" onClick={() => navigation('/signup')}>\r\n        \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F\r\n      </button>\r\n    </Form>;\n}\n_s(SignIn, \"TY2ZkXPEd6Qm83ttuQrcexrIG84=\", false, function () {\n  return [useActionData, useNavigate, useRemixForm];\n});\n_c = SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACsBlB,kBAAyB;AAKzB,qBAA2B;AAgDrB;AA1EN,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,2CAA6C,EAAE;AAAA,EACxF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAgC;AAChC,cAAY,IAAI,eAAe;AACjC;AAUA,IAAM,WAAW,EAAY,YAAY;AA4B1B,SAAR,SAA0B;AAC/B,KAAG;AACH,QAAM,aAAa,cAAc;AACjC,QAAM,aAAa,YAAY;AAC/B,QAAM;AAAA,IACJ;AAAA,IACA,WAAW;AAAA,MACT;AAAA,MACA;AAAA,IACF;AAAA,EACF,IAAI,aAAa;AAAA,IACf;AAAA,IACA,MAAM;AAAA,EACR,CAAC;AACD,QAAM,YAAY,CAAC;AAAA,IACjB;AAAA,IACA;AAAA,EACF,MAAM,mDAAC,WACF;AAAA,0BAAsB,IAAI;AAAA,IAC3B,mDAAC,WAAM,MAAa,GAAG,SAAS,IAAI,KAApC;AAAA;AAAA;AAAA;AAAA,WAAuC;AAAA,IACtC,OAAO,IAAI,KAAK,mDAAC,OAAG,aAAG,OAAO,IAAI,GAAG,aAArB;AAAA;AAAA;AAAA;AAAA,WAA+B;AAAA,OAH9C;AAAA;AAAA;AAAA;AAAA,SAIJ;AACF,SAAO,mDAAC,QAAK,QAAO,QAChB;AAAA,uDAAC,aAAU,MAAK,SAAQ,MAAK,WAA7B;AAAA;AAAA;AAAA;AAAA,WAAqC;AAAA,IACrC,mDAAC,aAAU,MAAK,YAAW,MAAK,cAAhC;AAAA;AAAA;AAAA;AAAA,WAA2C;AAAA,IAC1C,YAAY,aAAa,mDAAC,OAAG,qBAAW,aAAf;AAAA;AAAA;AAAA;AAAA,WAAyB;AAAA,IACnD,mDAAC,YAAO,MAAK,UAAS,UAAU,cAAc,8CAA9C;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,IACA,mDAAC,YAAO,MAAK,UAAS,SAAS,MAAM,WAAW,SAAS,GAAG,4HAA5D;AAAA;AAAA;AAAA;AAAA,WAEA;AAAA,OATG;AAAA;AAAA;AAAA;AAAA,SAUL;AACJ;AACA,GAAG,QAAQ,gCAAgC,OAAO,WAAY;AAC5D,SAAO,CAAC,eAAe,aAAa,YAAY;AAClD,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,QAAQ;AAEzB,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": []
}
